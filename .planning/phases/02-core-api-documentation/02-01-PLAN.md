---
phase: 02-core-api-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/polymarket/market-discovery/README.md
  - skills/polymarket/market-discovery/gamma-api-overview.md
  - skills/polymarket/market-discovery/fetching-markets.md
autonomous: true

must_haves:
  truths:
    - "Documentation explains Gamma API base URL and purpose"
    - "Documentation shows how to fetch active markets with endpoint details"
    - "Documentation explains events vs markets hierarchy"
    - "Code examples demonstrate fetching markets with requests library"
  artifacts:
    - path: "skills/polymarket/market-discovery/README.md"
      provides: "Index for market discovery skill"
      min_lines: 50
    - path: "skills/polymarket/market-discovery/gamma-api-overview.md"
      provides: "Gamma API architecture and endpoints"
      min_lines: 80
    - path: "skills/polymarket/market-discovery/fetching-markets.md"
      provides: "Market query patterns and response schemas"
      min_lines: 100
  key_links:
    - from: "skills/polymarket/market-discovery/README.md"
      to: "gamma-api-overview.md, fetching-markets.md"
      via: "documentation index links"
      pattern: "\\[.*\\]\\(\\./.*\\.md\\)"
---

<objective>
Document the Gamma API fundamentals for market discovery including API architecture, fetching markets, and the events/markets hierarchy.

Purpose: Enable Claude to understand how to discover markets on Polymarket - the first step in any trading workflow. GAMMA-01 (querying active markets) and partial GAMMA-02 (market metadata).

Output: Three skill files in skills/polymarket/market-discovery/ covering Gamma API basics.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-core-api-documentation/02-RESEARCH.md

# Reference Phase 1 style for consistency
@skills/polymarket/auth/README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Gamma API overview documentation</name>
  <files>skills/polymarket/market-discovery/gamma-api-overview.md</files>
  <action>
Create comprehensive Gamma API overview documentation covering:

1. **API Basics:**
   - Base URL: `https://gamma-api.polymarket.com`
   - Purpose: Read-only REST service for market metadata, events, categories
   - No authentication required for read operations
   - Response format (JSON)

2. **Events vs Markets Hierarchy:**
   - Events = propositions/questions (e.g., "2024 Election Winner")
   - Markets = specific tradable outcomes within events (e.g., "Biden", "Trump")
   - Each event has 1+ markets
   - Each market has exactly 2 tokens (YES and NO)
   - Key identifiers: event.id, market.conditionId, market.clobTokenIds

3. **Key Endpoints Overview:**
   - GET /events - List events with pagination
   - GET /events/{id} - Single event by ID
   - GET /events/slug/{slug} - Event by URL slug
   - GET /markets - List markets
   - GET /markets/{conditionId} - Single market

4. **Response Structure:**
   - Document event response fields (id, slug, title, markets[], active, closed, negRisk)
   - Document market response fields (conditionId, clobTokenIds, question, outcomes, endDate)

Use code examples with `requests` library. Follow Phase 1 documentation style (clear headers, code blocks, tables for reference data).
  </action>
  <verify>File exists at skills/polymarket/market-discovery/gamma-api-overview.md with 80+ lines covering API basics, hierarchy, endpoints, and response structure</verify>
  <done>Gamma API architecture documented with clear explanation of events vs markets hierarchy and all key endpoints listed</done>
</task>

<task type="auto">
  <name>Task 2: Create market fetching documentation</name>
  <files>skills/polymarket/market-discovery/fetching-markets.md</files>
  <action>
Create detailed documentation for fetching markets (GAMMA-01) covering:

1. **Fetching Active Events:**
   ```python
   import requests

   GAMMA_URL = "https://gamma-api.polymarket.com"

   response = requests.get(f"{GAMMA_URL}/events", params={
       "active": "true",
       "closed": "false",
       "limit": 50,
       "offset": 0
   })
   events = response.json()
   ```

2. **Query Parameters:**
   - active: Filter by active status (true/false)
   - closed: Filter by closed status (true/false)
   - order: Sort field (id, created, volume)
   - ascending: Sort direction (true/false)
   - limit: Max results (default 50)
   - offset: Pagination offset

3. **Response Schema with Field Explanations:**
   Document each field in the event response with meaning:
   - id, slug, title, description
   - active, closed, archived
   - markets[] (nested market objects)
   - negRisk (multi-outcome flag)
   - volume, liquidity

4. **Market Response Schema:**
   Document each field in market objects:
   - conditionId (use for CLOB queries)
   - clobTokenIds[] (YES at index 0, NO at index 1)
   - question, description
   - outcomes[] (outcome names)
   - outcomePrices (current prices)
   - endDate, resolutionSource

5. **Extracting Token IDs for Trading:**
   Show how to get token IDs needed for CLOB trading:
   ```python
   event = events[0]
   market = event["markets"][0]
   yes_token_id = market["clobTokenIds"][0]
   no_token_id = market["clobTokenIds"][1]
   ```

Include error handling patterns (HTTP errors, empty responses).
  </action>
  <verify>File exists at skills/polymarket/market-discovery/fetching-markets.md with 100+ lines, includes working code examples and response schema documentation</verify>
  <done>Complete market fetching documentation with request/response schemas, query parameters, and token ID extraction examples</done>
</task>

<task type="auto">
  <name>Task 3: Create market-discovery README index</name>
  <files>skills/polymarket/market-discovery/README.md</files>
  <action>
Create README index for market-discovery skill following Phase 1 README style:

1. **Quick Start:**
   - Fastest path to discovering markets
   - Basic code snippet for fetching active markets
   - Link to detailed fetching-markets.md

2. **Prerequisites:**
   - No authentication needed for Gamma API
   - Python with requests library
   - No API keys required

3. **Documentation Index:**
   Table with columns: Document | Purpose | When to Read
   - gamma-api-overview.md - API architecture and endpoints
   - fetching-markets.md - Querying and response schemas
   - (placeholder for search-and-filtering.md - Plan 02)

4. **Common Use Cases:**
   - Find active markets in a category
   - Get details for a specific market
   - Extract token IDs for trading
   - Check market status and resolution

5. **API Reference:**
   - Base URL
   - Rate limits (if known, note "implement conservative rate limiting")
   - Key endpoints table

6. **Related Skills:**
   - Trading Operations (CLOB API) - use token IDs from here
   - Real-Time Data (WebSocket) - subscribe to markets found here

Include "Last updated" footer with date and "Status: In Progress - Phase 2" note.
  </action>
  <verify>File exists at skills/polymarket/market-discovery/README.md with 50+ lines, has quick start section, documentation index, and follows Phase 1 README format</verify>
  <done>Market discovery README provides navigation index and quick start for the skill folder</done>
</task>

</tasks>

<verification>
All three files created in skills/polymarket/market-discovery/:
- gamma-api-overview.md explains Gamma API architecture and events/markets hierarchy
- fetching-markets.md shows how to query markets with full schemas
- README.md provides skill index and quick start

Code examples use requests library and are consistent with research patterns.
</verification>

<success_criteria>
1. skills/polymarket/market-discovery/ directory exists with 3 files
2. Documentation covers GAMMA-01 (querying active markets) requirement
3. Events vs markets hierarchy clearly explained with identifier mapping
4. Response schemas documented with field explanations
5. Code examples demonstrate practical usage patterns
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-api-documentation/02-01-SUMMARY.md`
</output>
