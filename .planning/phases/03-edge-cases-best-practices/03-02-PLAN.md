---
phase: 03-edge-cases-best-practices
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/polymarket/edge-cases/price-interpretation.md
  - skills/polymarket/edge-cases/resolution-mechanics.md
autonomous: true

must_haves:
  truths:
    - "User can distinguish midpoint price from executable price"
    - "User understands spread represents actual trading cost"
    - "User can determine if a market is pending resolution, disputed, or finalized"
    - "User understands UMA oracle resolution timeline"
  artifacts:
    - path: "skills/polymarket/edge-cases/price-interpretation.md"
      provides: "Price vs odds clarification with spread calculation"
      contains: "get_price"
    - path: "skills/polymarket/edge-cases/resolution-mechanics.md"
      provides: "Resolution states and dispute handling"
      contains: "UMA"
  key_links:
    - from: "skills/polymarket/edge-cases/price-interpretation.md"
      to: "skills/polymarket/trading/clob-api-overview.md"
      via: "reference link"
      pattern: "clob-api"
    - from: "skills/polymarket/edge-cases/resolution-mechanics.md"
      to: "skills/polymarket/market-discovery/events-and-metadata.md"
      via: "reference link"
      pattern: "events-and-metadata"
---

<objective>
Document price interpretation nuances and market resolution mechanics including dispute handling.

Purpose: Price confusion leads to bad trading decisions (expecting midpoint fills). Resolution confusion leads to frustrated users waiting for payouts. Both need clear documentation.

Output: edge-cases/price-interpretation.md, edge-cases/resolution-mechanics.md
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-edge-cases-best-practices/03-RESEARCH.md

# Existing documentation to reference
@skills/polymarket/trading/clob-api-overview.md
@skills/polymarket/market-discovery/events-and-metadata.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create price interpretation guide</name>
  <files>skills/polymarket/edge-cases/price-interpretation.md</files>
  <action>
Create edge-cases/price-interpretation.md (EDGE-04):

**Title:** "Price vs Odds Interpretation"

**The Confusion:**
- Midpoint appears everywhere but is NOT tradable
- Users expect to buy at midpoint, get worse fills

**Key Concepts:**
1. Midpoint = (best_bid + best_ask) / 2 - display/analytics only
2. Executable buy price = best ask (what you pay to buy now)
3. Executable sell price = best bid (what you receive selling now)
4. Spread = ask - bid = actual roundtrip trading cost

**Code Examples from research:**
```python
# Midpoint: display only
midpoint = client.get_midpoint(token_id)  # e.g., 0.50

# Executable prices
buy_price = client.get_price(token_id, side="BUY")   # e.g., 0.52 (ask)
sell_price = client.get_price(token_id, side="SELL") # e.g., 0.48 (bid)

# Spread = actual trading cost
spread = buy_price - sell_price  # 0.04 = 4 cents per share roundtrip
```

**When to Use What:**
| Purpose | Method | Example |
|---------|--------|---------|
| Display probability | get_midpoint | "Market at 50%" |
| Calculate buy cost | get_price(side="BUY") | "Buying at $0.52/share" |
| Calculate sell proceeds | get_price(side="SELL") | "Selling at $0.48/share" |
| Analyze liquidity | get_order_book | Full depth view |

**Warning signs of confusion:**
- Expecting to buy at displayed price (midpoint)
- Calculating PnL using midpoint instead of actual fill
- Ignoring spread in low-liquidity markets

**Best practice:** Always check order book for actual depth, especially for large orders that may walk the book.

Reference clob-api-overview.md for full order book details.
  </action>
  <verify>
File exists at skills/polymarket/edge-cases/price-interpretation.md.
Contains get_midpoint vs get_price distinction.
Contains spread calculation example.
References clob-api-overview.md.
  </verify>
  <done>
Price interpretation guide clarifies midpoint vs executable prices with actionable code examples.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create resolution mechanics and dispute handling guide</name>
  <files>skills/polymarket/edge-cases/resolution-mechanics.md</files>
  <action>
Create edge-cases/resolution-mechanics.md (EDGE-05, EDGE-06):

**Title:** "Market Resolution Mechanics"

**Resolution States (EDGE-05):**
Expand on events-and-metadata.md state detection with edge cases:

| State | API Fields | Trading | Redemption | Typical Duration |
|-------|-----------|---------|------------|------------------|
| Open | active=true | Yes | No | Until event |
| Closed (Pending) | closed=true, resolved=false | No | No | Hours to days |
| Proposed | (on-chain) | No | No | 2 hours |
| Disputed | (on-chain) | No | No | 48+ hours |
| Resolved | resolved=true | No | Yes | Final |

Include enhanced `get_market_resolution_status()` function from research.

**UMA Oracle Process (EDGE-06):**
Document the dispute/resolution timeline:

1. **Market closes:** Trading stops, awaiting outcome
2. **Proposal submitted:** Whitelisted proposer submits resolution
   - 2-hour challenge window begins
3. **If no dispute:** Resolution finalizes after 2 hours
4. **If disputed (first time):**
   - New proposal with 2-hour window
5. **If disputed (second time):**
   - Escalates to UMA DVM (Decentralized Verification Mechanism)
   - 48-hour voting period
6. **Resolution finalized:** Redemption enabled

**Timeline diagram (ASCII):**
```
Event Closes -> Proposal (2h) -> [No Dispute] -> Resolved
                    |
                    v
              [Dispute] -> New Proposal (2h) -> [No Dispute] -> Resolved
                                  |
                                  v
                            [Dispute] -> DVM Vote (48h) -> Resolved
```

**What users should know:**
- Resolution is NOT instant after event conclusion
- Disputes are rare but extend timeline significantly
- Cannot redeem until status = resolved
- Check resolution status before expecting payout

**Warning signs:**
- Market ended days ago but no payout
- Status shows "pending" instead of "resolved"
- UMA has active dispute

Reference events-and-metadata.md for basic state detection.
  </action>
  <verify>
File exists at skills/polymarket/edge-cases/resolution-mechanics.md.
Contains UMA dispute timeline with 2-hour and 48-hour windows.
Contains resolution states table.
References events-and-metadata.md.
  </verify>
  <done>
Resolution mechanics guide explains full lifecycle including disputes, managing user expectations about payout timing.
  </done>
</task>

</tasks>

<verification>
- [ ] edge-cases/price-interpretation.md exists with midpoint vs executable distinction
- [ ] edge-cases/resolution-mechanics.md exists with UMA dispute process
- [ ] Both files reference existing Phase 2 documentation appropriately
- [ ] Resolution timeline diagram is clear and accurate
</verification>

<success_criteria>
1. User understands difference between midpoint and executable prices
2. User can calculate actual trading cost (spread)
3. User understands why resolution may take days after event
4. User knows dispute escalation timeline
5. EDGE-04, EDGE-05, EDGE-06 requirements satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/03-edge-cases-best-practices/03-02-SUMMARY.md`
</output>
