---
phase: 01-authentication-setup-foundation
plan: 03
type: execute
wave: 2
depends_on:
  - "01-01"
  - "01-02"
files_modified:
  - skills/polymarket/auth/client-initialization.md
  - skills/polymarket/auth/README.md
autonomous: true

must_haves:
  truths:
    - "Claude can provide complete client initialization code for any wallet type"
    - "Claude knows the correct parameter combinations for each wallet type"
    - "Claude can guide a user through complete setup from scratch"
    - "Claude knows the order of operations: detect wallet -> set allowances (if EOA) -> init client -> create credentials"
  artifacts:
    - path: "skills/polymarket/auth/client-initialization.md"
      provides: "Complete py-clob-client initialization guide"
      contains: "ClobClient"
    - path: "skills/polymarket/auth/README.md"
      provides: "Authentication skill index and quick reference"
      contains: "Quick Start"
  key_links:
    - from: "skills/polymarket/auth/client-initialization.md"
      to: "skills/polymarket/auth/wallet-types.md"
      via: "signature_type selection"
      pattern: "wallet-types"
    - from: "skills/polymarket/auth/client-initialization.md"
      to: "skills/polymarket/auth/token-allowances.md"
      via: "EOA setup prerequisite"
      pattern: "token-allowances"
    - from: "skills/polymarket/auth/client-initialization.md"
      to: "skills/polymarket/auth/api-credentials.md"
      via: "credential creation step"
      pattern: "api-credentials"
---

<objective>
Create the complete py-clob-client initialization guide that synthesizes wallet types, authentication, and credentials into a unified setup flow.

Purpose: This is the "main entry point" document - when someone needs to set up Polymarket, this guides the entire process.
Output: Complete initialization guide and auth skill README index.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-authentication-setup-foundation/01-RESEARCH.md
@.planning/phases/01-authentication-setup-foundation/01-01-SUMMARY.md
@.planning/phases/01-authentication-setup-foundation/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Client Initialization Guide</name>
  <files>skills/polymarket/auth/client-initialization.md</files>
  <action>
Create the comprehensive py-clob-client initialization guide:

**Structure:**
1. Overview
   - What ClobClient is
   - Prerequisites (Python 3.9+, pip packages, Polygon RPC, private key)
2. Installation
   ```bash
   pip install py-clob-client web3
   ```
3. Quick Start (for each wallet type)
   - EOA wallet setup (complete example)
   - Magic/email wallet setup (complete example)
   - Gnosis Safe setup (complete example)
4. ClobClient Parameters Reference
   | Parameter | Type | Description | Required |
   |-----------|------|-------------|----------|
   | host | str | API endpoint (https://clob.polymarket.com) | Yes |
   | key | str | Private key (with or without 0x prefix) | Yes |
   | chain_id | int | 137 for Polygon mainnet | Yes |
   | signature_type | int | 0=EOA, 1=Magic, 2=Safe | Yes |
   | funder | str | Address where funds sit | Yes for trading |
5. Complete Setup Flow
   Step-by-step for each wallet type:
   a. Detect wallet type (link to wallet-types.md)
   b. Set token allowances if EOA (link to token-allowances.md)
   c. Initialize ClobClient
   d. Create/derive API credentials (link to api-credentials.md)
   e. Verify setup with test call
6. Environment Configuration
   - Recommended env vars: POLYMARKET_PRIVATE_KEY, POLYGON_RPC_URL
   - .env file pattern
7. Verification
   - How to verify client is working (get_tick_size(), get_ok() calls)
   - Expected responses
8. Troubleshooting
   - Common init errors and solutions
   - Reference to authentication-flow.md for auth errors

**Complete code examples required:**
- init_eoa_client() - full working example
- init_magic_wallet_client() - full working example
- init_safe_client() - full working example
- verify_client_setup() - test the connection

**Source:** Draw from 01-RESEARCH.md Complete Initialization code examples, synthesize with wallet-types.md and api-credentials.md.

**Format:** Claude skill markdown - this should be THE go-to document for "how do I set up py-clob-client".
  </action>
  <verify>
- File exists at skills/polymarket/auth/client-initialization.md
- Contains complete code examples for all three wallet types
- Contains ClobClient parameter reference table
- Links to other auth documents appropriately
- Includes verification/test code
- No placeholder text or TODOs
  </verify>
  <done>
Documentation provides complete py-clob-client initialization guide covering all wallet types. Requirement LIB-01 satisfied.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Auth Skill README Index</name>
  <files>skills/polymarket/auth/README.md</files>
  <action>
Create the index/entry point for the authentication skill module:

**Structure:**
1. Title: Polymarket Authentication & Setup
2. Quick Start
   - Fastest path to working client (link to client-initialization.md)
   - TL;DR decision tree for wallet type
3. Prerequisites
   - Python 3.9+
   - pip install py-clob-client web3
   - Private key
   - POL/MATIC for gas (EOA only)
   - USDC.e (not native USDC!)
4. Documentation Index
   | Document | Purpose | When to Read |
   |----------|---------|--------------|
   | client-initialization.md | Complete setup guide | First time setup |
   | wallet-types.md | EOA vs proxy detection | Unsure which wallet type |
   | authentication-flow.md | L1/L2 auth architecture | Understanding auth or debugging |
   | api-credentials.md | Credential management | Credential issues or rotation |
   | token-allowances.md | USDC.e and approvals | EOA setup or allowance errors |
5. Common Issues Quick Reference
   - "Invalid signature" -> Check signature_type (wallet-types.md)
   - "$0.00 balance" -> Wrong USDC type (token-allowances.md)
   - "Unauthorized" -> Credential issue (api-credentials.md)
6. Related Skills
   - Placeholder for Phase 2+ skills (trading, websocket)

**Format:** Clean, scannable index document. User should find what they need in <30 seconds.
  </action>
  <verify>
- File exists at skills/polymarket/auth/README.md
- Contains quick start section
- Contains documentation index table
- Contains common issues quick reference
- Links to all four auth documents created in this phase
- No placeholder text or TODOs (except "Related Skills" which references future phases)
  </verify>
  <done>
README provides clear entry point to authentication documentation. Phase 1 documentation is complete and navigable.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. All five auth skill files exist:
   - skills/polymarket/auth/README.md
   - skills/polymarket/auth/client-initialization.md
   - skills/polymarket/auth/authentication-flow.md
   - skills/polymarket/auth/api-credentials.md
   - skills/polymarket/auth/wallet-types.md
   - skills/polymarket/auth/token-allowances.md
2. README correctly links to all other documents
3. client-initialization.md synthesizes content from prior documents
4. A user could follow README -> client-initialization.md and have a working setup
</verification>

<success_criteria>
- LIB-01 (client initialization) documented with all configuration options
- Auth skill module has clear README index
- All Phase 1 requirements (AUTH-01, AUTH-02, AUTH-03, AUTH-04, LIB-01) are covered
- Documentation is interconnected and navigable
</success_criteria>

<output>
After completion, create `.planning/phases/01-authentication-setup-foundation/01-03-SUMMARY.md`
</output>
